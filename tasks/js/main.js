!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){window.onload=function(e,t){function n(e,t,n){var o=document.createElement("div");o.className=e,o.textContent=n,document.body.insertBefore(o,t)}n("alert alert-primary welcome",document.body.firstChild,"Добро пожаловать"),setTimeout(function(){document.querySelector(".welcome").classList.toggle("hidden")},1500);var o=JSON.parse(localStorage.getItem("tasks"))||[],a=document.querySelector(".list-group");function r(e){var t=document.createElement("li");t.className="list-group-item d-flex align-items-center",t.setAttribute("data-id",e.id),t.setAttribute("data-done",e.done);var n=document.createElement("span");n.textContent=e.text;var o=document.createElement("i");o.className="fas fa-trash ml-3 mr-3 deleteButton";var a=document.createElement("i");a.className="fas fa-edit ml-auto editButton";var r=document.createElement("i");return r.className="fas fa-check-square doneButton",t.appendChild(n),t.appendChild(a),t.appendChild(o),t.appendChild(r),t}function i(){for(var e="",t="0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",n=0;n<15;n++){e+=t[Math.floor(Math.random()*t.length)]}return e}!function(e){a.innerHTML="";for(var t=0;t<o.length;t++)a.appendChild(r(e[t]));c()}(o);var s=document.forms.addTask,d=s.elements.addText;function l(e){if(!d.value)return d.classList.add("is-invalid"),!1;var t,l={id:i(),text:e,done:"not-done"};o.unshift(l),a.insertAdjacentElement("afterbegin",r(l)),localStorage.setItem("tasks",JSON.stringify(o)),s.reset(),function(){n("alert alert-success success",document.body.firstChild,"Задача добавлена");var e=document.querySelector(".success");setTimeout(function(){e.classList.add("hidden")},1500),setTimeout(function(){document.body.removeChild(e)},2e3)}(),(t=document.querySelector(".emptyList"))&&a.removeChild(t)}function c(){0===a.childElementCount&&(a.innerHTML='<span class="emptyList">Список задач пуст</span>')}d.addEventListener("keydown",function(){d.classList.contains("is-invalid")&&d.classList.remove("is-invalid")}),s.addEventListener("submit",function(e){e.preventDefault(),l(d.value)}),document.querySelector(".clearButton").addEventListener("click",function(){o.splice(0,o.length),a.innerHTML="",localStorage.setItem("tasks",JSON.stringify(o)),c()}),a.addEventListener("click",function(e){if(e.target.classList.contains("deleteButton")){var t=e.target.closest("li");!function(e){for(var t=0;t<o.length;t++)if(o[t].id===e){o.splice(t,1);break}localStorage.setItem("tasks",JSON.stringify(o))}(t.dataset.id),t.remove(),function(){n("alert alert-danger delete",document.body.firstChild,"Задача удалена");var e=document.querySelector(".delete");setTimeout(function(){e.classList.add("hidden")},1500),setTimeout(function(){document.body.removeChild(e)},2e3)}(),c()}else if(e.target.classList.contains("editButton")){e.target.classList.toggle("fa-save");var a=e.target.closest("li").dataset.id,r=e.target.closest("li").querySelector("span");e.target.classList.contains("fa-save")?(r.setAttribute("contenteditable",!0),r.focus()):(r.setAttribute("contenteditable",!1),r.blur(),function(e,t){for(var n=0;n<o.length;n++)if(o[n].id===e){o[n].text=t;break}localStorage.setItem("tasks",JSON.stringify(o))}(a,r.textContent))}else if(e.target.classList.contains("fa-check-square")){var i=e.target.closest("li").dataset;"not-done"===i.done?i.done="done":i.done="not-done",e.target.closest("li").classList.toggle("done");for(var s=0;s<o.length;s++)o[s].id===i.id&&("not-done"===o[s].done?o[s].done="done":o[s].done="not-done");localStorage.setItem("tasks",JSON.stringify(o))}}),function(){for(var e=0;e<o.length;e++)"done"===a.children[e].dataset.done?a.children[e].classList.add("done"):a.children[e].classList.remove("done")}()}}]);