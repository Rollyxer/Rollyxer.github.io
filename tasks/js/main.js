!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){window.onload=function(){function e(e,t,n){var r=document.createElement("div");r.className=e,r.textContent=n,document.body.insertBefore(r,t)}e("alert alert-primary welcome",document.body.firstChild,"Добро пожаловать"),setTimeout(function(){document.querySelector(".welcome").classList.toggle("hidden")},1500);var t=JSON.parse(localStorage.getItem("tasks"))||[],n=document.querySelector(".list-group");function r(e){var t=document.createElement("li");t.className="list-group-item d-flex align-items-center",t.setAttribute("data-id",e.id);var n=document.createElement("span");n.textContent=e.text;var r=document.createElement("i");r.className="fas fa-trash ml-3 deleteButton";var i=document.createElement("i");return i.className="fas fa-edit ml-auto editButton",t.appendChild(n),t.appendChild(i),t.appendChild(r),t}function i(){for(var e="",t="0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",n=0;n<15;n++){e+=t[Math.floor(Math.random()*t.length)]}return e}i(),function(e){n.innerHTML="";for(var i=0;i<t.length;i++)n.appendChild(r(e[i]));l()}(t);var o=document.forms.addTask,a=o.elements.addText;function s(s){if(!a.value)return a.classList.add("is-invalid"),!1;var l,c={id:i(),text:s};t.unshift(c),n.insertAdjacentElement("afterbegin",r(c)),localStorage.setItem("tasks",JSON.stringify(t)),o.reset(),function(){e("alert alert-success success",document.body.firstChild,"Задача добавлена");var t=document.querySelector(".success");setTimeout(function(){t.classList.add("hidden")},1500),setTimeout(function(){document.body.removeChild(t)},2e3)}(),(l=document.querySelector(".emptyList"))&&n.removeChild(l)}function l(){0===n.childElementCount&&(n.innerHTML='<span class="emptyList">Список задач пуст</span>')}a.addEventListener("keydown",function(){a.classList.contains("is-invalid")&&a.classList.remove("is-invalid")}),o.addEventListener("submit",function(e){e.preventDefault(),s(a.value)}),document.querySelector(".clearButton").addEventListener("click",function(e){l()}),n.addEventListener("click",function(n){if(n.target.classList.contains("deleteButton")){var r=n.target.closest("li");!function(e){for(var n=0;n<t.length;n++)if(t[n].id===e){t.splice(n,1);break}localStorage.setItem("tasks",JSON.stringify(t))}(r.dataset.id),r.remove(),function(){e("alert alert-danger delete",document.body.firstChild,"Задача удалена");var t=document.querySelector(".delete");setTimeout(function(){t.classList.add("hidden")},1500),setTimeout(function(){document.body.removeChild(t)},2e3)}(),l()}else if(n.target.classList.contains("editButton")){n.target.classList.toggle("fa-save");var i=n.target.closest("li").dataset.id,o=n.target.closest("li").querySelector("span");n.target.classList.contains("fa-save")?(o.setAttribute("contenteditable",!0),o.focus()):(o.setAttribute("contenteditable",!1),o.blur(),function(e,n){for(var r=0;r<t.length;r++)if(t[r].id===e){t[r].text=n;break}localStorage.setItem("tasks",JSON.stringify(t))}(i,o.textContent))}})}}]);